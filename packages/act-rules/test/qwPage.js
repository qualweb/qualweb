var QWPage =
/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./dist/index.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./dist/cache.object.js":
/*!******************************!*\
  !*** ./dist/cache.object.js ***!
  \******************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nclass Cache {\n    constructor() {\n        this.cache = {};\n    }\n    get(key) {\n        return this.cache[key];\n    }\n    put(key, value) {\n        this.cache[key] = value;\n    }\n    exists(key) {\n        return key in this.cache;\n    }\n}\nmodule.exports = Cache;\n\n\n//# sourceURL=webpack://QWPage/./dist/cache.object.js?");

/***/ }),

/***/ "./dist/css.mapper.js":
/*!****************************!*\
  !*** ./dist/css.mapper.js ***!
  \****************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nconst qw_element_1 = __webpack_require__(/*! @qualweb/qw-element */ \"./node_modules/@qualweb/qw-element/dist/index.js\");\nclass CSSMapper {\n    constructor(document) {\n        this.pseudoSelectors = ['focus', 'hover', 'before', 'after', 'active', 'disabled', 'checked', 'empty', 'enabled', 'in-range', 'invalid', 'lang', 'link', 'optional', 'out-of-range', 'read-only', 'read-write', 'required', 'target', 'valid', 'visited', 'first-letter', 'first-line', 'selection'];\n        this.elementsCSSRules = new Map();\n        this.document = document;\n    }\n    map() {\n        this.mapExternalStylesheets();\n        this.mapHeadStyles();\n        this.mapInlineStyles();\n        return this.elementsCSSRules;\n    }\n    mapExternalStylesheets() {\n        for (const stylesheet of this.document.styleSheets || []) {\n            const rules = this.getCSSRules(stylesheet);\n            for (const rule of rules || []) {\n                if (rule.type === 1) {\n                    this.mapNormalCSSRule(rule, undefined, 'file', stylesheet.href);\n                }\n                else if (rule.type === 4) {\n                    this.mapMediaCSSRule(rule, 'file', stylesheet.href);\n                }\n            }\n        }\n    }\n    mapHeadStyles() {\n        const styles = this.document.querySelectorAll('style');\n        for (const style of styles || []) {\n            const rules = this.getCSSRules(style.sheet);\n            for (const rule of rules || []) {\n                if (rule.type === 1) {\n                    this.mapNormalCSSRule(rule, undefined, 'head', new qw_element_1.QWElement(style).getElementSelector());\n                }\n                else if (rule.type === 4) {\n                    this.mapMediaCSSRule(rule, 'head', new qw_element_1.QWElement(style).getElementSelector());\n                }\n            }\n        }\n    }\n    mapInlineStyles() {\n        var _a;\n        const elements = this.document.querySelectorAll('[style]');\n        for (const element of elements || []) {\n            const style = element.getAttribute('style');\n            if (style) {\n                const properties = style.split(';').map(p => p.trim()).filter(p => p !== '') || [style.trim()];\n                if ((_a = this.elementsCSSRules) === null || _a === void 0 ? void 0 : _a.has(element)) {\n                    this.addElementCSSRules(element, properties, undefined, undefined, 'inline', new qw_element_1.QWElement(element).getElementSelector() || '');\n                }\n                else {\n                    this.createElementCSSMapping(element, properties, undefined, undefined, 'inline', new qw_element_1.QWElement(element).getElementSelector() || '');\n                }\n            }\n        }\n    }\n    mapMediaCSSRule(rule, location, pointer) {\n        const subRules = rule['cssRules'] || new CSSRuleList();\n        for (const subRule of subRules || []) {\n            if (subRule.type === 1) {\n                this.mapNormalCSSRule(subRule, rule['conditionText'], location, pointer);\n            }\n        }\n    }\n    mapNormalCSSRule(rule, media, location, pointer) {\n        var _a;\n        const selectorText = rule['selectorText'].trim();\n        const properties = rule.cssText.replace(selectorText, '').replace('{', '').replace('}', '').trim().split(';').map(p => p.trim()).filter(p => p !== '');\n        const selectors = selectorText.split(',') || [selectorText];\n        for (let selector of selectors || []) {\n            let pseudoSelector;\n            if (selector.includes('::')) {\n                const split = selector.split('::');\n                if (this.pseudoSelectors.includes(split[1])) {\n                    selector = split[0].trim();\n                    pseudoSelector = '::' + split[1].trim();\n                }\n            }\n            else if (selector.includes(':')) {\n                const split = selector.split(':');\n                selector = split[0].trim();\n                pseudoSelector = ':' + split[1].trim();\n            }\n            const elements = this.getElements(selector);\n            for (const element of elements || []) {\n                if ((_a = this.elementsCSSRules) === null || _a === void 0 ? void 0 : _a.has(element)) {\n                    this.addElementCSSRules(element, properties, media, pseudoSelector, location, pointer || '');\n                }\n                else {\n                    this.createElementCSSMapping(element, properties, media, pseudoSelector, location, pointer || '');\n                }\n            }\n        }\n    }\n    createElementCSSMapping(element, properties, media, pseudoSelector, location, pointer) {\n        var _a;\n        const cssProperties = {};\n        if (media) {\n            cssProperties['media'] = {};\n            cssProperties['media'][media] = {};\n            if (pseudoSelector) {\n                cssProperties['media'][media][pseudoSelector] = {};\n            }\n        }\n        for (const property of properties || []) {\n            const propertyName = property.split(':')[0].trim();\n            if (media) {\n                if (pseudoSelector) {\n                    cssProperties['media'][media][pseudoSelector][propertyName] = this.createPropertyObject(property, location, pointer);\n                }\n                else {\n                    cssProperties['media'][media][propertyName] = this.createPropertyObject(property, location, pointer);\n                }\n            }\n            else {\n                cssProperties[propertyName] = this.createPropertyObject(property, location, pointer);\n            }\n        }\n        (_a = this.elementsCSSRules) === null || _a === void 0 ? void 0 : _a.set(element, cssProperties);\n    }\n    addElementCSSRules(element, properties, media, pseudoSelector, location, pointer) {\n        var _a, _b;\n        const cssProperties = (_a = this.elementsCSSRules) === null || _a === void 0 ? void 0 : _a.get(element);\n        for (const property of properties || []) {\n            const propertyName = property.split(':')[0].trim();\n            if (media) {\n                if (cssProperties['media'] === undefined) {\n                    cssProperties['media'] = {};\n                }\n                if (cssProperties['media'][media] === undefined) {\n                    cssProperties['media'][media] = {};\n                    if (pseudoSelector) {\n                        cssProperties['media'][media][pseudoSelector] = {};\n                        cssProperties['media'][media][pseudoSelector][propertyName] = this.createPropertyObject(property, location, pointer);\n                    }\n                    else {\n                        cssProperties['media'][media][propertyName] = this.createPropertyObject(property, location, pointer);\n                    }\n                }\n                else {\n                    if (pseudoSelector) {\n                        if (cssProperties['media'][media][pseudoSelector] === undefined) {\n                            cssProperties['media'][media][pseudoSelector] = {};\n                            cssProperties['media'][media][pseudoSelector][propertyName] = this.createPropertyObject(property, location, pointer);\n                        }\n                        else if (cssProperties['media'][media][pseudoSelector][propertyName] === undefined) {\n                            cssProperties['media'][media][pseudoSelector][propertyName] = this.createPropertyObject(property, location, pointer);\n                        }\n                        else {\n                            if (!cssProperties['media'][media][pseudoSelector][propertyName].important) {\n                                cssProperties['media'][media][pseudoSelector][propertyName] = this.createPropertyObject(property, location, pointer);\n                            }\n                            else if (property.includes('!important')) {\n                                cssProperties['media'][media][pseudoSelector][propertyName] = this.createPropertyObject(property, location, pointer);\n                            }\n                        }\n                    }\n                    else if (cssProperties['media'][media][propertyName] === undefined) {\n                        cssProperties['media'][media][propertyName] = this.createPropertyObject(property, location, pointer);\n                    }\n                    else {\n                        if (!cssProperties['media'][media][propertyName].important) {\n                            cssProperties['media'][media][propertyName] = this.createPropertyObject(property, location, pointer);\n                        }\n                        else if (property.includes('!important')) {\n                            cssProperties['media'][media][propertyName] = this.createPropertyObject(property, location, pointer);\n                        }\n                    }\n                }\n            }\n            else if (pseudoSelector) {\n                if (cssProperties[pseudoSelector] === undefined) {\n                    cssProperties[pseudoSelector] = {};\n                    cssProperties[pseudoSelector][propertyName] = this.createPropertyObject(property, location, pointer);\n                }\n                else if (cssProperties[pseudoSelector][propertyName] === undefined) {\n                    cssProperties[pseudoSelector][propertyName] = this.createPropertyObject(property, location, pointer);\n                }\n                else {\n                    if (!cssProperties[pseudoSelector][propertyName].important) {\n                        cssProperties[pseudoSelector][propertyName] = this.createPropertyObject(property, location, pointer);\n                    }\n                    else if (property.includes('!important')) {\n                        cssProperties[pseudoSelector][propertyName] = this.createPropertyObject(property, location, pointer);\n                    }\n                }\n            }\n            else if (cssProperties[property] === undefined) {\n                cssProperties[propertyName] = this.createPropertyObject(property, location, pointer);\n            }\n            else {\n                if (!cssProperties[propertyName].important) {\n                    cssProperties[propertyName] = this.createPropertyObject(property, location, pointer);\n                }\n                else if (property.includes('!important')) {\n                    cssProperties[propertyName] = this.createPropertyObject(property, location, pointer);\n                }\n            }\n        }\n        (_b = this.elementsCSSRules) === null || _b === void 0 ? void 0 : _b.set(element, cssProperties);\n    }\n    createPropertyObject(property, location, pointer) {\n        const hasImportant = property.includes('!important');\n        const split = property.split(':');\n        const propertyName = split[0].trim();\n        const value = split.splice(1).join('');\n        const propertyValue = hasImportant ? value.replace('!important', '').trim() : value.trim();\n        return {\n            important: hasImportant,\n            name: propertyName,\n            value: propertyValue,\n            location,\n            pointer\n        };\n    }\n    getCSSRules(sheet) {\n        try {\n            return (sheet === null || sheet === void 0 ? void 0 : sheet.rules) || (sheet === null || sheet === void 0 ? void 0 : sheet.cssRules) || null;\n        }\n        catch (err) {\n            return null;\n        }\n    }\n    getElements(selector) {\n        try {\n            return this.document.querySelectorAll(selector);\n        }\n        catch (err) {\n            return null;\n        }\n    }\n}\nmodule.exports = CSSMapper;\n\n\n//# sourceURL=webpack://QWPage/./dist/css.mapper.js?");

/***/ }),

/***/ "./dist/index.js":
/*!***********************!*\
  !*** ./dist/index.js ***!
  \***********************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.QWPage = void 0;\nconst qw_element_1 = __webpack_require__(/*! @qualweb/qw-element */ \"./node_modules/@qualweb/qw-element/dist/index.js\");\nconst cache_object_1 = __importDefault(__webpack_require__(/*! ./cache.object */ \"./dist/cache.object.js\"));\nconst css_mapper_1 = __importDefault(__webpack_require__(/*! ./css.mapper */ \"./dist/css.mapper.js\"));\nclass QWPage {\n    constructor(document, window, addCSSRulesToElements, url) {\n        this.document = document;\n        this.cache = new cache_object_1.default();\n        this.extraDocuments = new Map();\n        this.url = \"\";\n        this.window = window;\n        if (!!addCSSRulesToElements) {\n            this.elementsCSSRules = new css_mapper_1.default(this.document).map();\n        }\n        if (this.document instanceof Document) {\n            this.url = this.document.URL;\n        }\n        else if (!!url) {\n            this.url = url;\n        }\n        this.processIframes();\n        this.processShadowDom();\n        console.log(this.extraDocuments);\n    }\n    processShadowDom() {\n        const listElements = this.document.querySelectorAll('*');\n        let shadowRoot, selector, shadowPage;\n        for (const element of listElements || []) {\n            if (element.shadowRoot !== null) {\n                element.innerHTML = \"\";\n                shadowRoot = new qw_element_1.QWElement(element);\n                selector = shadowRoot.getElementSelector();\n                shadowPage = new QWPage(element.shadowRoot, this.window, true, this.url);\n                this.extraDocuments[selector] = shadowPage;\n            }\n        }\n    }\n    processIframes() {\n        const elements = this.document.querySelectorAll(\"iframe\");\n        let iframeQW, contentWindow, frame, iframePage, selector;\n        for (let iframe of elements) {\n            console.log(iframe);\n            try {\n                iframeQW = new qw_element_1.QWElement(iframe);\n                contentWindow = iframeQW.getContentFrame();\n                frame = contentWindow;\n                selector = iframeQW.getElementSelector();\n                iframePage = new QWPage(frame, frame.defaultView, true);\n                this.extraDocuments[selector] = iframePage;\n            }\n            catch (e) {\n                console.log(e);\n            }\n        }\n    }\n    addCSSRulesPropertyToElement(element) {\n        var _a;\n        if (element && ((_a = this.elementsCSSRules) === null || _a === void 0 ? void 0 : _a.has(element))) {\n            element.setAttribute('_cssRules', 'true');\n        }\n    }\n    addIframeAttribute(elements, selector) {\n        for (let element of elements) {\n            element.setElementAttribute('_documentSelector', selector);\n        }\n    }\n    cacheValue(selector, method, value) {\n        this.cache.put(selector + \",\" + method, value);\n    }\n    getCachedValue(selector, method) {\n        return this.cache.get(selector + \",\" + method);\n    }\n    isValueCached(selector, method) {\n        return this.cache.exists(selector + \",\" + method);\n    }\n    getURL() {\n        return this.url;\n    }\n    getElementFromDocument(selector) {\n        const element = this.document.querySelector(selector);\n        this.addCSSRulesPropertyToElement(element);\n        return element ? new qw_element_1.QWElement(element, this.elementsCSSRules) : null;\n    }\n    getElementsFromDocument(selector) {\n        const elements = this.document.querySelectorAll(selector);\n        const qwList = [];\n        for (const element of elements || []) {\n            this.addCSSRulesPropertyToElement(element);\n            qwList.push(new qw_element_1.QWElement(element, this.elementsCSSRules));\n        }\n        return qwList;\n    }\n    getElement(selector, specificDocument) {\n        let element, iframeSelector;\n        if (!!specificDocument) {\n            iframeSelector = specificDocument.getElementAttribute(\"_documentSelector\");\n            if (iframeSelector) {\n                let iframePage = this.extraDocuments[iframeSelector];\n                element = iframePage.getElement(selector, specificDocument);\n            }\n            else {\n                element = this.getElementFromDocument(selector);\n            }\n        }\n        else {\n            element = this.getElementFromDocument(selector);\n            if (!element) {\n                let iframeKeys = Object.keys(this.extraDocuments);\n                let i = 0;\n                let iframePage;\n                while (!element && i < iframeKeys.length) {\n                    iframePage = this.extraDocuments[iframeKeys[i]];\n                    element = iframePage.getElement(selector);\n                    iframeSelector = iframeKeys[i];\n                    i++;\n                }\n            }\n        }\n        this.addIframeAttribute([element], iframeSelector);\n        return element;\n    }\n    getElements(selector, specificDocument) {\n        let elements = [];\n        if (!!specificDocument) {\n            let iframeSelector = specificDocument.getElementAttribute(\"_documentSelector\");\n            if (iframeSelector) {\n                let iframePage = this.extraDocuments[iframeSelector];\n                elements.push(...iframePage.getElements(selector, specificDocument));\n                this.addIframeAttribute(elements, iframeSelector);\n            }\n            else {\n                elements.push(...this.getElementsFromDocument(selector));\n            }\n        }\n        else {\n            elements.push(...this.getElementsFromDocument(selector));\n            let iframeKeys = Object.keys(this.extraDocuments);\n            let i = 0;\n            let iframePage, iframeElements;\n            while (i < iframeKeys.length) {\n                iframePage = this.extraDocuments[iframeKeys[i]];\n                iframeElements = iframePage.getElements(selector);\n                this.addIframeAttribute(iframeElements, iframeKeys[i]);\n                elements.push(...iframeElements);\n                i++;\n            }\n        }\n        return elements;\n    }\n    getElementByID(id, elementQW) {\n        const element = this.document.querySelector(`#${id}`);\n        this.addCSSRulesPropertyToElement(element);\n        return element ? new qw_element_1.QWElement(element, this.elementsCSSRules) : null;\n    }\n    getElementByAttributeName(name) {\n        const element = this.document.querySelector(`[name=\"${name}\"]`);\n        this.addCSSRulesPropertyToElement(element);\n        return element ? new qw_element_1.QWElement(element, this.elementsCSSRules) : null;\n    }\n    getPageRootElement() {\n        if (this.document instanceof Document) {\n            const documentElement = this.document.documentElement;\n            this.addCSSRulesPropertyToElement(documentElement);\n            return documentElement ? new qw_element_1.QWElement(documentElement, this.elementsCSSRules) : null;\n        }\n        else {\n            return null;\n        }\n    }\n    getHTMLContent() {\n        if (this.document instanceof Document) {\n            return this.document.documentElement.outerHTML;\n        }\n        else {\n            return this.document.innerHTML;\n        }\n    }\n    getFocusedElement() {\n        const activeElement = this.document.activeElement;\n        this.addCSSRulesPropertyToElement(activeElement);\n        return activeElement ? new qw_element_1.QWElement(activeElement, this.elementsCSSRules) : null;\n    }\n}\nexports.QWPage = QWPage;\n\n\n//# sourceURL=webpack://QWPage/./dist/index.js?");

/***/ }),

/***/ "./node_modules/@qualweb/qw-element/dist/index.js":
/*!********************************************************!*\
  !*** ./node_modules/@qualweb/qw-element/dist/index.js ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.QWElement = void 0;\nclass QWElement {\n    constructor(element, elementsCSSRules) {\n        this.element = element;\n        this.elementsCSSRules = elementsCSSRules;\n        this.selector = '';\n    }\n    addCSSRulesPropertyToElement(element) {\n        var _a;\n        if (element && ((_a = this.elementsCSSRules) === null || _a === void 0 ? void 0 : _a.has(element))) {\n            element.setAttribute('_cssRules', 'true');\n        }\n    }\n    hasCSSRules() {\n        return this.element.getAttribute('_cssRules') === 'true';\n    }\n    getCSSRules() {\n        var _a;\n        return (_a = this.elementsCSSRules) === null || _a === void 0 ? void 0 : _a.get(this.element);\n    }\n    hasCSSProperty(property, pseudoStyle, media) {\n        var _a, _b;\n        if ((_a = this.elementsCSSRules) === null || _a === void 0 ? void 0 : _a.has(this.element)) {\n            const rules = (_b = this.elementsCSSRules) === null || _b === void 0 ? void 0 : _b.get(this.element);\n            if (pseudoStyle && media) {\n                return rules['media'][media][pseudoStyle][property] !== undefined;\n            }\n            else if (pseudoStyle) {\n                return rules[pseudoStyle][property] !== undefined;\n            }\n            else if (media) {\n                return rules['media'][media][property] !== undefined;\n            }\n            return rules[property] !== undefined;\n        }\n        return false;\n    }\n    getCSSProperty(property, pseudoStyle, media) {\n        var _a, _b;\n        if ((_a = this.elementsCSSRules) === null || _a === void 0 ? void 0 : _a.has(this.element)) {\n            const rules = (_b = this.elementsCSSRules) === null || _b === void 0 ? void 0 : _b.get(this.element);\n            if (pseudoStyle && media) {\n                return rules['media'][media][pseudoStyle][property];\n            }\n            else if (pseudoStyle) {\n                return rules[pseudoStyle][property];\n            }\n            else if (media) {\n                return rules['media'][media][property];\n            }\n            return rules[property];\n        }\n        return undefined;\n    }\n    getCSSMediaRules() {\n        var _a, _b;\n        if ((_a = this.elementsCSSRules) === null || _a === void 0 ? void 0 : _a.has(this.element)) {\n            const rules = (_b = this.elementsCSSRules) === null || _b === void 0 ? void 0 : _b.get(this.element);\n            return rules['media'];\n        }\n        return undefined;\n    }\n    getCSSPseudoSelectorRules(pseudoSelector) {\n        var _a, _b;\n        if ((_a = this.elementsCSSRules) === null || _a === void 0 ? void 0 : _a.has(this.element)) {\n            const rules = (_b = this.elementsCSSRules) === null || _b === void 0 ? void 0 : _b.get(this.element);\n            return rules[pseudoSelector];\n        }\n        return undefined;\n    }\n    elementHasAttribute(attribute) {\n        return this.element.getAttributeNames().includes(attribute);\n    }\n    elementHasAttributes() {\n        return this.element.getAttributeNames().length > 0;\n    }\n    elementHasChild(childName) {\n        for (const child of this.element.children || []) {\n            if (child.tagName.toLowerCase() === childName.toLowerCase()) {\n                return true;\n            }\n        }\n        return false;\n    }\n    elementHasChildren() {\n        return this.element.children.length > 0;\n    }\n    elementHasParent(parent) {\n        const parentElement = this.element['parentElement'];\n        return parentElement ? parentElement['tagName'].toLowerCase() === parent.toLowerCase() : false;\n    }\n    hasTextNode() {\n        var _a;\n        let hasText = false;\n        for (const child of this.element.childNodes || []) {\n            if (child.nodeType === 3 && ((_a = child.textContent) === null || _a === void 0 ? void 0 : _a.trim()) !== '') {\n                hasText = true;\n            }\n        }\n        return hasText;\n    }\n    getElementAttribute(attribute) {\n        return this.element.getAttribute(attribute);\n    }\n    getElementAttributes() {\n        const attributes = {};\n        for (const attr of this.element.getAttributeNames() || []) {\n            attributes[attr] = this.element.getAttribute(attr);\n        }\n        return attributes;\n    }\n    getElementAttributesName() {\n        return this.element.getAttributeNames();\n    }\n    getElementChildren() {\n        const selector = this.getElementSelector();\n        const treeSelector = this.getTreeSelector();\n        const elements = this.element.querySelectorAll(selector + ' > *' + treeSelector);\n        const qwList = new Array();\n        for (const element of elements) {\n            this.addCSSRulesPropertyToElement(element);\n            qwList.push(new QWElement(element, this.elementsCSSRules));\n        }\n        return qwList;\n    }\n    getTreeSelector() {\n        const attribute = this.getElementAttribute('shadowTree');\n        let result = ':not([shadowTree])';\n        if (attribute !== null) {\n            result = `[shadowTree='${attribute}']`;\n        }\n        return result;\n    }\n    getElementChildTextContent(childName) {\n        for (const child of this.element.children || []) {\n            if (child.tagName.toLowerCase() === childName.toLowerCase()) {\n                return child['textContent'] || undefined;\n            }\n        }\n        return undefined;\n    }\n    getElementHtmlCode(withText, fullElement) {\n        const clonedElem = this.element.cloneNode(true);\n        clonedElem.removeAttribute('_cssRules');\n        if (fullElement) {\n            return clonedElem.outerHTML;\n        }\n        else if (withText) {\n            const text = clonedElem['text'];\n            clonedElem.innerHTML = text !== undefined ? text : '';\n            return clonedElem.outerHTML;\n        }\n        else {\n            clonedElem.innerHTML = '';\n            return clonedElem.outerHTML;\n        }\n    }\n    getElement(selector) {\n        const element = this.element.querySelector(selector);\n        this.addCSSRulesPropertyToElement(element);\n        return this.convertElementToQWElement(element);\n    }\n    convertElementToQWElement(element) {\n        if (element) {\n            this.addCSSRulesPropertyToElement(element);\n            return new QWElement(element, this.elementsCSSRules);\n        }\n        else {\n            return null;\n        }\n    }\n    convertElementsToQWElement(elements) {\n        const qwList = new Array();\n        for (const element of elements || []) {\n            this.addCSSRulesPropertyToElement(element);\n            qwList.push(new QWElement(element, this.elementsCSSRules));\n        }\n        return qwList;\n    }\n    getElements(selector) {\n        return this.convertElementsToQWElement(this.element.querySelectorAll(selector));\n    }\n    getElementNextSibling() {\n        return this.convertElementToQWElement(this.element.nextElementSibling);\n    }\n    getElementParent() {\n        return this.convertElementToQWElement(this.element.parentElement);\n    }\n    getElementPreviousSibling() {\n        return this.convertElementToQWElement(this.element.previousElementSibling);\n    }\n    getElementProperty(property) {\n        const propertyValue = this.element[property];\n        return propertyValue === null ? '' : propertyValue;\n    }\n    getElementSelector() {\n        if (this.selector === \"\") {\n            if (this.element.tagName.toLowerCase() === 'html') {\n                return 'html';\n            }\n            else if (this.element.tagName.toLowerCase() === 'head') {\n                return 'html > head';\n            }\n            else if (this.element.tagName.toLowerCase() === 'body') {\n                return 'html > body';\n            }\n            let selector = '';\n            const parents = new Array();\n            let parent = this.element.parentElement;\n            while (parent) {\n                parents.unshift(this.getSelfLocationInParent(parent));\n                parent = parent['parentElement'];\n            }\n            if (parents.length > 0) {\n                selector += parents.join(' > ');\n                selector += ' > ' + this.getSelfLocationInParent(this.element);\n            }\n            else {\n                selector += this.getSelfLocationInParent(this.element);\n            }\n            this.selector = selector;\n            return selector;\n        }\n        else {\n            return this.selector;\n        }\n    }\n    getSelfLocationInParent(element) {\n        let selector = '';\n        if (element.tagName.toLowerCase() === 'body' || element.tagName.toLowerCase() === 'head') {\n            return element.tagName.toLowerCase();\n        }\n        let sameEleCount = 0;\n        let prev = element.previousElementSibling;\n        while (prev) {\n            if (prev.tagName.toLowerCase() === element.tagName.toLowerCase()) {\n                sameEleCount++;\n            }\n            prev = prev.previousElementSibling;\n        }\n        selector += `${element.tagName.toLowerCase()}:nth-of-type(${sameEleCount + 1})`;\n        return selector;\n    }\n    getElementStyleProperty(property, pseudoStyle) {\n        const styles = getComputedStyle(this.element, pseudoStyle);\n        return styles.getPropertyValue(property);\n    }\n    getElementTagName() {\n        return this.element['tagName'].toLowerCase();\n    }\n    getElementText() {\n        return this.element.textContent || '';\n    }\n    getElementType() {\n        return this.element.nodeType === 1 ? 'tag' : this.element.nodeType === 2 ? 'attribute' : this.element.nodeType === 3 ? 'text' : 'comment';\n    }\n    getNumberOfSiblingsWithTheSameTag() {\n        let aCount = 1;\n        let nextSibling = this.element.nextElementSibling;\n        while (nextSibling) {\n            if (nextSibling.tagName.toLowerCase() === 'a') {\n                aCount++;\n            }\n            nextSibling = nextSibling.nextElementSibling;\n        }\n        return aCount;\n    }\n    setElementAttribute(attribute, value) {\n        this.element.setAttribute(attribute, value);\n    }\n    concatANames(aNames) {\n        const children = this.element.childNodes;\n        let result = '';\n        let textContent;\n        let i = 0;\n        let counter = 0;\n        for (const child of children || []) {\n            textContent = child.textContent;\n            if (child.nodeType === 3 && !!textContent && textContent.trim() !== '') {\n                result = result + (counter === 0 ? '' : ' ') + textContent.trim();\n                counter++;\n            }\n            else if (child.nodeType === 1) {\n                result = result + (counter > 0 && !!aNames[i] ? ' ' : '') + aNames[i];\n                i++;\n            }\n        }\n        if (!result) {\n            result = '';\n        }\n        return result;\n    }\n    isOffScreen() {\n        const scrollHeight = Math.max(document.body.scrollHeight, document.documentElement.scrollHeight, document.body.offsetHeight, document.documentElement.offsetHeight, document.body.clientHeight, document.documentElement.clientHeight);\n        const scrollWidth = Math.max(document.body.scrollWidth, document.documentElement.scrollWidth, document.body.offsetWidth, document.documentElement.offsetWidth, document.body.clientWidth, document.documentElement.clientHeight);\n        const bounding = this.element.getBoundingClientRect();\n        const left = bounding.left;\n        const right = bounding.right;\n        const bottom = bounding.bottom;\n        const top = bounding.top;\n        const noParentScrollTop = this.noParentScrolled(bottom);\n        return left > scrollWidth || right < 0 || bottom < 0 && noParentScrollTop || top > scrollHeight || right === 0 && left === 0;\n    }\n    isElementHTMLElement() {\n        return this.element instanceof HTMLElement;\n    }\n    getContentFrame() {\n        let page = null;\n        if (this.getElementTagName() === 'iframe') {\n            const element = this.element;\n            const contentWindow = element.contentWindow;\n            if (contentWindow) {\n                page = contentWindow.document;\n            }\n        }\n        return page;\n    }\n    elementHasTextNode() {\n        if (this.element.firstChild !== null) {\n            return this.element.firstChild.nodeType === 3;\n        }\n        else {\n            return false;\n        }\n    }\n    noParentScrolled(offset) {\n        let element = this.element.parentElement;\n        while (element && element.nodeName.toLowerCase() !== 'html') {\n            if (element.scrollTop) {\n                offset += element.scrollTop;\n                if (offset >= 0) {\n                    return false;\n                }\n            }\n            element = element.parentElement;\n        }\n        return true;\n    }\n    focusElement() {\n        const htmlElement = this.element;\n        htmlElement.focus();\n    }\n    getBoundingBox() {\n        return this.element.getBoundingClientRect();\n    }\n    getShadowElement(selector) {\n        const shadowRoot = this.element.shadowRoot;\n        let element = null;\n        if (shadowRoot) {\n            element = shadowRoot.querySelector(selector);\n        }\n        return this.convertElementToQWElement(element);\n    }\n    getShadowElements(selector) {\n        const shadowRoot = this.element.shadowRoot;\n        let elements = null;\n        if (shadowRoot) {\n            elements = shadowRoot.querySelectorAll(selector);\n        }\n        return this.convertElementsToQWElement(elements);\n    }\n}\nexports.QWElement = QWElement;\n\n\n//# sourceURL=webpack://QWPage/./node_modules/@qualweb/qw-element/dist/index.js?");

/***/ })

/******/ });